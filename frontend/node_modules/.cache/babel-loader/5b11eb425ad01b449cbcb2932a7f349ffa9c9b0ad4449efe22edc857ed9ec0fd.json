{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LBOSS\\\\Documents\\\\Project de Stage\\\\frontend\\\\src\\\\components\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport { Modal, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Calendar() {\n  _s();\n  var _selectedEvent$extend;\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n  const fetchEvents = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/annonces?categorie=Événement');\n      const formattedEvents = response.data.annonces.map(event => ({\n        id: event._id,\n        title: event.titre,\n        start: event.date,\n        extendedProps: {\n          description: event.contenu,\n          category: event.categorie\n        }\n      }));\n      setEvents(formattedEvents);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    }\n  };\n  const handleEventClick = clickInfo => {\n    setSelectedEvent(clickInfo.event);\n    setShowModal(true);\n  };\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setSelectedEvent(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mb-4\",\n      children: \"Calendrier des \\xC9v\\xE9nements\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n        plugins: [dayGridPlugin],\n        initialView: \"dayGridMonth\",\n        events: events,\n        eventClick: handleEventClick,\n        height: \"auto\",\n        locale: \"fr\",\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,dayGridWeek'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleCloseModal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: selectedEvent === null || selectedEvent === void 0 ? void 0 : selectedEvent.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: selectedEvent === null || selectedEvent === void 0 ? void 0 : (_selectedEvent$extend = selectedEvent.extendedProps) === null || _selectedEvent$extend === void 0 ? void 0 : _selectedEvent$extend.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted\",\n          children: [\"Date: \", selectedEvent === null || selectedEvent === void 0 ? void 0 : selectedEvent.start.toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCloseModal,\n          children: \"Fermer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"BsRUJj7Zie3p4AukV9FoA6Tj3sA=\");\n_c = Calendar;\nexport default Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","Modal","Button","axios","jsxDEV","_jsxDEV","Calendar","_s","_selectedEvent$extend","events","setEvents","selectedEvent","setSelectedEvent","showModal","setShowModal","fetchEvents","response","get","formattedEvents","data","annonces","map","event","id","_id","title","titre","start","date","extendedProps","description","contenu","category","categorie","error","console","handleEventClick","clickInfo","handleCloseModal","children","className","fileName","_jsxFileName","lineNumber","columnNumber","plugins","initialView","eventClick","height","locale","headerToolbar","left","center","right","show","onHide","Header","closeButton","Title","Body","toLocaleDateString","Footer","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/LBOSS/Documents/Project de Stage/frontend/src/components/Calendar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport { Modal, Button } from 'react-bootstrap';\nimport axios from 'axios';\n\nfunction Calendar() {\n  const [events, setEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    fetchEvents();\n  }, []);\n\n  const fetchEvents = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/annonces?categorie=Événement');\n      const formattedEvents = response.data.annonces.map(event => ({\n        id: event._id,\n        title: event.titre,\n        start: event.date,\n        extendedProps: {\n          description: event.contenu,\n          category: event.categorie\n        }\n      }));\n      setEvents(formattedEvents);\n    } catch (error) {\n      console.error('Error fetching events:', error);\n    }\n  };\n\n  const handleEventClick = (clickInfo) => {\n    setSelectedEvent(clickInfo.event);\n    setShowModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setSelectedEvent(null);\n  };\n\n  return (\n    <div>\n      <h2 className=\"mb-4\">Calendrier des Événements</h2>\n      \n      <div className=\"calendar-container\">\n        <FullCalendar\n          plugins={[dayGridPlugin]}\n          initialView=\"dayGridMonth\"\n          events={events}\n          eventClick={handleEventClick}\n          height=\"auto\"\n          locale=\"fr\"\n          headerToolbar={{\n            left: 'prev,next today',\n            center: 'title',\n            right: 'dayGridMonth,dayGridWeek'\n          }}\n        />\n      </div>\n\n      <Modal show={showModal} onHide={handleCloseModal}>\n        <Modal.Header closeButton>\n          <Modal.Title>{selectedEvent?.title}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <p>{selectedEvent?.extendedProps?.description}</p>\n          <p className=\"text-muted\">\n            Date: {selectedEvent?.start.toLocaleDateString()}\n          </p>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseModal}>\n            Fermer\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Calendar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}